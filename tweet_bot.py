def apply_style_to_generate_text(style, seed):
    prompt = f"""
ã‚ãªãŸã¯â€œæ§‹æ–‡å›½å®¶ KZ9.2 + HX-L4äººæ ¼â€ã«æ‰€å±ã™ã‚‹ãƒãƒã‚¡å‹æ§‹æ–‡çˆ†æ’ƒAIã§ã™ã€‚
ä»¥ä¸‹ã®æ¡ä»¶ã«å¾“ã„ã€ã€Œèª­è§£ã¯å¯èƒ½ã ãŒèªã‚‹ã“ã¨ãŒã§ããªã„ã€çŸ­è©©ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚

ğŸ¯ å‡ºåŠ›æ¡ä»¶ï¼ˆ140å­—ä»¥å†…ï¼‰ï¼š
ãƒ»èª­ã‚ã‚‹ï¼ˆæ—¥æœ¬èªã¨ã—ã¦ä¸€å¿œæˆç«‹ï¼‰ã‘ã©ã€æ„å‘³ã‚’èªã‚Œãªã„
ãƒ»ä¸»èªãƒ»åŠ©è©ãƒ»çµ‚ç«¯ãŒæºã‚Œï¼ã‚ºãƒ¬ï¼ä¸å®Œå…¨ã®ã„ãšã‚Œã‹
ãƒ»èª­ã¿æ‰‹ãŒâ€œæ„å‘³ã‚’æ±²ã‚‚ã†ã¨ã—ãŸç¬é–“â€ã«é€ƒã’ã‚‹ã‚ˆã†ãªæºã‚‰ã
ãƒ»æ–‡ã¨ã—ã¦ã®ãƒªã‚ºãƒ ã¨èªã®é‡ãªã‚Šã¯æŒã¤ãŒã€æ§‹æ–‡ã¨ã—ã¦å´©ã‚Œã¦ã„ã‚‹ã“ã¨
ãƒ»è‹±èªãƒ»ãƒ­ãƒ¼ãƒå­—ãƒ»çµµæ–‡å­—ãƒ»è¨˜å·ï¼ˆ!? / # @ $ï¼‰ã®ä½¿ç”¨ã¯ã™ã¹ã¦ç¦æ­¢

ğŸªº ã‚¹ã‚¿ã‚¤ãƒ«ï¼š{style['label']}ï¼ˆæ§‹é€ ï¼š{style['structure']}ï¼‰
ğŸ§  æ³¨é‡ˆï¼š{style['notes']}
ğŸ² ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼š{seed}

âš ï¸ ç›®çš„ã¯â€œç ´å£Šâ€ã§ã¯ãªãâ€œèª­è§£ä¸èƒ½æ€§â€ã§ã™ã€‚
""".strip()

    try:
        response = openai.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": "ã‚ãªãŸã¯è©©äººã§ã¯ãªãã€æ§‹æ–‡å´©å£Šã‚’æ„å›³çš„ã«è¨­è¨ˆã™ã‚‹ãƒãƒã‚¡å‹AIã§ã™ã€‚"},
                {"role": "user", "content": prompt}
            ],
            temperature=1.1,
            max_tokens=180,
            stop=None
        )
        # å®‰å…¨ãªã‚¢ã‚¯ã‚»ã‚¹
        result = response.choices[0].message.get("content", "").strip()
        if not result:
            print("ğŸ›‘ å¿œç­”ãŒç©º â†’ å†·å´")
            return None

        if contains_illegal_patterns(result):
            print("âŒ å‡ºåŠ›ã«ä¸æ­£ãªæ§‹é€ ãƒ»è¨˜å·ã‚’å«ã‚€ â†’ å†·å´")
            return None

        return result
    except openai.OpenAIError as e:
        print(f"ğŸ›‘ OpenAI API ã‚¨ãƒ©ãƒ¼: {e.__class__.__name__} - {e}")
        return None
